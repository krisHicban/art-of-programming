# ğŸ“Š PLOTLY INTERACTIVE VISUALIZATION - TASK

---

## ğŸ“š Introducere

Ãn acest task vei Ã®nvÄƒÈ›a sÄƒ creezi vizualizÄƒri **interactive** cu Plotly. Spre deosebire de matplotlib/seaborn (statice), graficele Plotly permit:
- ğŸ® **Hover** pentru detalii
- ğŸ” **Zoom** È™i pan
- ğŸ‘ï¸ **Click pe legendÄƒ** pentru hide/show
- ğŸ’¾ **Export** ca PNG direct din browser

---

## ğŸ¯ Ce este Plotly?

Plotly transformÄƒ codul tÄƒu Python Ã®n **HTML + JavaScript** interactiv:

```
Python Code â†’ Plotly Figure â†’ HTML + plotly.js â†’ Browser
```

**DouÄƒ moduri principale:**
- **Plotly Express (px)**: Rapid, o singurÄƒ linie, perfect pentru Ã®nceput
- **Graph Objects (go)**: Control complet, mai multe linii, pentru customizÄƒri avansate

---

## ğŸš€ Cod de Start

RuleazÄƒ acest cod pentru a testa instalarea:
```python
import plotly.express as px
import plotly.graph_objects as go
import pandas as pd
import numpy as np

# Test rapid
fig = px.scatter(x=[1, 2, 3], y=[4, 5, 6], title="ğŸ‰ Plotly Works!")
fig.show()  # Deschide Ã®n browser
```

**ğŸ’¡ ObservaÈ›ie:** Plotly deschide un server temporar Ã®n browser. CÃ¢nd Ã®nchizi script-ul, server-ul se opreÈ™te!

---

# PARTEA 1: Fundamente Plotly Express

---

## ğŸ“ EXERCIÈšIUL 1: Scatter Plot Personal - VÃ¢rsta vs ExperienÈ›Äƒ

**Obiectiv:** CreeazÄƒ un scatter plot cu datele tale È™i ale prietenilor/colegilor

### ğŸ“– Concepte noi:

**`scatter plot`** = grafic cu puncte, perfect pentru a vedea relaÈ›ii Ã®ntre douÄƒ variabile numerice
**`hover_data`** = informaÈ›ii extra care apar cÃ¢nd pui mouse-ul peste un punct
**`color`** = coloreazÄƒ punctele bazat pe o categorie (ex: sex, departament)

**TODO:**
1. CreeazÄƒ un DataFrame cu date despre 10-15 persoane (tine, prieteni, colegi)
   - Coloane: `Nume`, `VÃ¢rsta`, `Ani_ExperienÈ›Äƒ`, `Salariu_Estimat`, `Domeniu`
2. FoloseÈ™te `px.scatter()` pentru a vizualiza `VÃ¢rsta` (X) vs `Ani_ExperienÈ›Äƒ` (Y)
3. ColoreazÄƒ punctele dupÄƒ `Domeniu` folosind parametrul `color`
4. AdaugÄƒ `hover_data` pentru a vedea `Nume` È™i `Salariu_Estimat` la hover
5. **BONUS:** SchimbÄƒ dimensiunea punctelor bazat pe `Salariu_Estimat` cu `size`

### ğŸ’» Cod de pornire:
```python
import plotly.express as px
import pandas as pd

# CreeazÄƒ date (exemplu - modificÄƒ cu datele tale!)
df_personal = pd.DataFrame({
    'Nume': ['Alex', 'Maria', 'Ionut', 'Ana', 'Mihai', 'Elena'],
    'VÃ¢rsta': [25, 28, 22, 30, 27, 24],
    'Ani_ExperienÈ›Äƒ': [3, 5, 1, 7, 4, 2],
    'Salariu_Estimat': [3000, 4500, 2500, 6000, 4000, 3200],
    'Domeniu': ['IT', 'Marketing', 'IT', 'Finance', 'IT', 'HR']
})

# CreeazÄƒ scatter plot
fig = px.scatter(
    df_personal,
    x='VÃ¢rsta',
    y='Ani_ExperienÈ›Äƒ',
    color='Domeniu',  # ColoreazÄƒ dupÄƒ domeniu
    hover_data=['Nume', 'Salariu_Estimat'],  # Info la hover
    title='ğŸ“Š VÃ¢rstÄƒ vs ExperienÈ›Äƒ - Analiza Prietenilor'
)

# CustomizÄƒri
fig.update_layout(
    xaxis_title="VÃ¢rsta (ani)",
    yaxis_title="Ani de ExperienÈ›Äƒ",
    hovermode='closest'
)

fig.show()

# TODO: AdaugÄƒ size='Salariu_Estimat' pentru dimensiuni variate ale punctelor
```

**ğŸ’¡ Hint pentru BONUS:** AdaugÄƒ `size='Salariu_Estimat'` Ã®n `px.scatter()` È™i observÄƒ cum punctele mai mari = salarii mai mari!

**â“ Ãntrebare de reflecÈ›ie:**
Ce corelaÈ›ie observi Ã®ntre vÃ¢rstÄƒ È™i experienÈ›Äƒ? Este liniarÄƒ?

_RÄƒspunsul tÄƒu:_ _______________________________________________

---

## ğŸ“ EXERCIÈšIUL 2: Dashboard cu 3 Grafice - Buget Personal

**Obiectiv:** CreeazÄƒ un mini-dashboard financiar cu Bar, Line È™i Pie chart

### ğŸ“– Concepte noi:

**`make_subplots`** = creeazÄƒ grile cu multiple grafice Ã®n acelaÈ™i layout
**`add_trace`** = adaugÄƒ un grafic Ã®ntr-un subplot
**`row, col`** = specificÄƒ poziÈ›ia subplot-ului Ã®n grilÄƒ

**TODO:**
1. CreeazÄƒ date pentru 6 luni: Venituri, Cheltuieli, Economii
2. **Subplot 1 (Bar Chart):** ComparaÈ›ie Venituri vs Cheltuieli pe luni
3. **Subplot 2 (Line Chart):** Trend economii Ã®n timp
4. **Subplot 3 (Pie Chart):** Breakdown cheltuieli pe categorii (MÃ¢ncare, Chirie, Transport, DistracÈ›ie)
5. AdaugÄƒ titlu general È™i customizeazÄƒ layout-ul

### ğŸ’» Cod de pornire:
```python
import plotly.graph_objects as go
from plotly.subplots import make_subplots
import pandas as pd

# Date financiare (6 luni)
months = ['Ian', 'Feb', 'Mar', 'Apr', 'Mai', 'Iun']
venituri = [3000, 3200, 3500, 3400, 3600, 3800]
cheltuieli = [2500, 2700, 2800, 2600, 2900, 2700]
economii = [v - c for v, c in zip(venituri, cheltuieli)]

# Breakdown cheltuieli pentru luna curentÄƒ (Iunie)
cheltuieli_categorii = {
    'MÃ¢ncare': 800,
    'Chirie': 1200,
    'Transport': 300,
    'DistracÈ›ie': 400
}

# CreeazÄƒ grid 2x2 (3 subplot-uri folosite)
fig = make_subplots(
    rows=2, cols=2,
    subplot_titles=('ğŸ’° Venituri vs Cheltuieli', 'ğŸ“ˆ Trend Economii', 'ğŸ¥§ Breakdown Cheltuieli'),
    specs=[[{"type": "bar"}, {"type": "scatter"}],
           [{"type": "pie", "colspan": 2}, None]]  # Pie ocupÄƒ ambele coloane
)

# SUBPLOT 1: Bar Chart - Venituri vs Cheltuieli
fig.add_trace(
    go.Bar(x=months, y=venituri, name='Venituri', marker_color='#10b981'),
    row=1, col=1
)
fig.add_trace(
    go.Bar(x=months, y=cheltuieli, name='Cheltuieli', marker_color='#ef4444'),
    row=1, col=1
)

# SUBPLOT 2: Line Chart - Trend Economii
# TODO: AdaugÄƒ un line chart cu economiile (foloseÈ™te go.Scatter cu mode='lines+markers')

# SUBPLOT 3: Pie Chart - Breakdown Cheltuieli
# TODO: AdaugÄƒ un pie chart cu cheltuieli_categorii (foloseÈ™te go.Pie)

# Layout general
fig.update_layout(
    title_text="ğŸ’¼ Dashboard Financiar Personal - 6 Luni",
    title_x=0.5,
    height=700,
    showlegend=True
)

fig.show()
```

**ğŸ’¡ Hint:**
- Line chart: `go.Scatter(x=months, y=economii, mode='lines+markers', name='Economii')`
- Pie chart: `go.Pie(labels=list(cheltuieli_categorii.keys()), values=list(cheltuieli_categorii.values()))`

**â“ Ãntrebare de reflecÈ›ie:**
Ãn ce lunÄƒ ai economisit cel mai mult? Ce insight-uri Ã®È›i oferÄƒ dashboard-ul?

_RÄƒspunsul tÄƒu:_ _______________________________________________

---

# PARTEA 2: VizualizÄƒri Avansate

---

## ğŸ“ EXERCIÈšIUL 3: Box Plot - Performance pe Echipe

**Obiectiv:** ComparÄƒ distribuÈ›ia scorurilor pentru 4 echipe sportive/de muncÄƒ

### ğŸ“– Concepte noi:

**`box plot`** = aratÄƒ distribuÈ›ia datelor: medianÄƒ, quartile, outliers
**`points='all'`** = afiÈ™eazÄƒ toate punctele individuale peste box
**`notched=True`** = adaugÄƒ "notch" pentru interval de confidenÈ›Äƒ al medianei

**TODO:**
1. GenereazÄƒ scoruri pentru 4 echipe (20-30 de scoruri per echipÄƒ)
2. CreeazÄƒ un box plot cu `px.box()` sau `go.Box()`
3. AfiÈ™eazÄƒ punctele individuale pentru a vedea distribuÈ›ia completÄƒ
4. CustomizeazÄƒ culorile pentru fiecare echipÄƒ
5. **BONUS:** AdaugÄƒ o linie orizontalÄƒ pentru "target score" (ex: 75 puncte)

### ğŸ’» Cod de pornire:
```python
import plotly.express as px
import numpy as np
import pandas as pd

# GenereazÄƒ scoruri pentru 4 echipe
np.random.seed(42)
echipe = []
scoruri = []

for echipa, mean_score in [('Echipa A', 80), ('Echipa B', 70), ('Echipa C', 85), ('Echipa D', 65)]:
    scores = np.random.normal(mean_score, 10, 25)  # 25 de scoruri
    echipe.extend([echipa] * 25)
    scoruri.extend(scores)

df_scoruri = pd.DataFrame({
    'Echipa': echipe,
    'Scor': scoruri
})

# CreeazÄƒ box plot
fig = px.box(
    df_scoruri,
    x='Echipa',
    y='Scor',
    title='ğŸ“¦ DistribuÈ›ia Scorurilor pe Echipe',
    points='all',  # AfiÈ™eazÄƒ toate punctele
    color='Echipa'  # Culori diferite per echipÄƒ
)

# TODO: AdaugÄƒ o linie orizontalÄƒ pentru target score (75)
# Hint: fig.add_hline(y=75, line_dash="dash", line_color="red", annotation_text="Target")

fig.update_layout(
    yaxis_title="Scor (puncte)",
    xaxis_title="Echipa"
)

fig.show()
```

**ğŸ’¡ Hint pentru BONUS:** FoloseÈ™te `fig.add_hline(y=75, line_dash="dash", line_color="red")` pentru linia target.

**â“ Ãntrebare de reflecÈ›ie:**
Care echipÄƒ are cea mai consistentÄƒ performanÈ›Äƒ (variaÈ›ie micÄƒ)? Care are outliers?

_RÄƒspunsul tÄƒu:_ _______________________________________________

---

## ğŸ“ EXERCIÈšIUL 4: Heatmap - Matrice de CorelaÈ›ii 10x10

**Obiectiv:** VizualizeazÄƒ o matrice de date ca heatmap cu culori

### ğŸ“– Concepte noi:

**`heatmap`** = hartÄƒ de culoare unde intensitatea culorii = valoarea numericÄƒ
**`colorscale`** = schema de culori (ex: 'Viridis', 'RdBu', 'Blues')
**`text`** = afiÈ™eazÄƒ valori Ã®n fiecare celulÄƒ
**`texttemplate`** = formatare pentru text (ex: '.2f' pentru 2 zecimale)

**TODO:**
1. GenereazÄƒ o matrice 10x10 cu valori random Ã®ntre 0 È™i 100
2. CreeazÄƒ etichete pentru rÃ¢nduri È™i coloane (ex: "Var1", "Var2", ...)
3. FoloseÈ™te `go.Heatmap()` pentru a vizualiza matricea
4. AdaugÄƒ `text` cu valori È™i `texttemplate` pentru formatare
5. **BONUS:** CalculeazÄƒ È™i afiÈ™eazÄƒ o matrice de corelaÈ›ii realÄƒ (genera 10 variabile corelate)

### ğŸ’» Cod de pornire:
```python
import plotly.graph_objects as go
import numpy as np

# GenereazÄƒ matrice random 10x10
np.random.seed(42)
matrix = np.random.randint(0, 100, size=(10, 10))

# Etichete
labels = [f'Var{i+1}' for i in range(10)]

# CreeazÄƒ heatmap
fig = go.Figure(data=go.Heatmap(
    z=matrix,
    x=labels,  # Coloane
    y=labels,  # RÃ¢nduri
    colorscale='Viridis',  # Schema de culori
    text=matrix,  # AfiÈ™eazÄƒ valori
    texttemplate='%{text}',  # Format
    textfont={"size": 10},
    colorbar=dict(title="Valoare")
))

fig.update_layout(
    title='ğŸ”¥ Heatmap 10x10 - Matrice Random',
    xaxis_title="Variabile (Coloane)",
    yaxis_title="Variabile (RÃ¢nduri)",
    width=700,
    height=700
)

fig.show()

# TODO BONUS: GenereazÄƒ 10 variabile corelate È™i calculeazÄƒ matricea de corelaÈ›ii
```

**ğŸ’¡ Hint pentru BONUS:**
```python
# GenereazÄƒ 10 variabile cu corelaÈ›ii
data = np.random.randn(100, 10)  # 100 observaÈ›ii, 10 variabile
df_corr = pd.DataFrame(data, columns=labels)
corr_matrix = df_corr.corr()  # CalculeazÄƒ corelaÈ›iile

# Apoi foloseÈ™te corr_matrix.values pentru z Ã®n heatmap
# SchimbÄƒ colorscale='RdBu' pentru albastru-roÈ™u (perfect pentru corelaÈ›ii -1 to 1)
```

**â“ Ãntrebare de reflecÈ›ie:**
Ãn cazul matricei de corelaÈ›ii (BONUS), ce perechi de variabile sunt puternic corelate?

_RÄƒspunsul tÄƒu:_ _______________________________________________

---

# PARTEA 3: Real-World Application

---

## ğŸ“ EXERCIÈšIUL 5: SalveazÄƒ È™i PartajeazÄƒ - HTML Export

**Obiectiv:** ÃnvaÈ›Äƒ sÄƒ salvezi graficele pentru partajare (email, prezentÄƒri)

### ğŸ“– Concepte noi:

**`.write_html()`** = salveazÄƒ graficul ca fiÈ™ier HTML independent (funcÈ›ioneazÄƒ offline!)
**`.to_json()`** = converteÈ™te Ã®n JSON pentru integrare Ã®n web apps
**`include_plotlyjs`** = control asupra cum e Ã®ncÄƒrcat plotly.js

**TODO:**
1. Ia unul din graficele tale de mai sus (scatter, dashboard, sau heatmap)
2. SalveazÄƒ-l ca fiÈ™ier HTML folosind `.write_html()`
3. Deschide fiÈ™ierul Ã®n browser È™i verificÄƒ interactivitatea
4. **BONUS:** ExportÄƒ ca JSON È™i inspecteazÄƒ structura

### ğŸ’» Cod de pornire:
```python
# Ia figura din ExerciÈ›iul 1 (sau orice altÄƒ figurÄƒ)
# fig = ... (figura ta)

# SalveazÄƒ ca HTML
fig.write_html("my_interactive_chart.html")
print("âœ… Chart salvat ca 'my_interactive_chart.html'")
print("ğŸ“‚ Deschide fiÈ™ierul manual Ã®n browser!")

# Salvare cu opÈ›iuni avansate
fig.write_html(
    "my_chart_standalone.html",
    include_plotlyjs='cdn',  # ÃncarcÄƒ plotly.js de pe internet (fiÈ™ier mai mic)
    config={'displayModeBar': True}  # AfiÈ™eazÄƒ bara de tools
)

# TODO BONUS: ExportÄƒ ca JSON
import json
chart_json = fig.to_json()
with open('my_chart.json', 'w') as f:
    json.dump(json.loads(chart_json), f, indent=2)
print("âœ… Chart JSON salvat ca 'my_chart.json'")
```

**ğŸ’¡ ObservaÈ›ii:**
- FiÈ™ierul HTML funcÈ›ioneazÄƒ **offline** (poÈ›i trimite prin email!)
- Toate feature-urile interactive (hover, zoom, pan) funcÈ›ioneazÄƒ
- JSON e util pentru integrare Ã®n React/Vue/Flask apps

**â“ Ãntrebare de reflecÈ›ie:**
CÃ¢nd ai folosi `.write_html()` vs `.show()` Ã®n proiecte reale?

_RÄƒspunsul tÄƒu:_ _______________________________________________

---

# ğŸ“ ÃntrebÄƒri de ReflecÈ›ie Finale

DupÄƒ ce ai terminat exerciÈ›iile, rÄƒspunde la urmÄƒtoarele Ã®ntrebÄƒri:

### 1. Ce diferenÈ›e majore ai observat Ã®ntre Plotly È™i matplotlib/seaborn?

_RÄƒspunsul tÄƒu:_
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________

### 2. De ce crezi cÄƒ interactivitatea e importantÄƒ Ã®n vizualizarea datelor?

_RÄƒspunsul tÄƒu:_
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________

### 3. CÃ¢nd ai folosi Plotly Express (px) vs Graph Objects (go)?

_RÄƒspunsul tÄƒu:_
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________

### 4. Ce tip de proiect real ai putea construi folosind Plotly?

_RÄƒspunsul tÄƒu:_
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________

---

# ğŸ’¡ Resurse Utile

- ğŸ“š **DocumentaÈ›ie Plotly:** https://plotly.com/python/
- ğŸ“Š **Galerie de exemple:** https://plotly.com/python/plotly-express/
- ğŸ¨ **Customizare:** https://plotly.com/python/styling-plotly-express/
- ğŸŒ **Dash (interactive apps):** https://dash.plotly.com/
- ğŸ”¥ **Cheat Sheet:** https://images.plot.ly/plotly-documentation/images/python_cheat_sheet.pdf

---

# ğŸ”¥ PROVOCARE EXTRA (opÈ›ional)

DacÄƒ ai terminat toate exerciÈ›iile È™i vrei sÄƒ exersezi mai mult:

### ğŸš€ Challenge 1: Dashboard Interactive cu Dash
TransformÄƒ dashboard-ul din ExerciÈ›iul 2 Ã®ntr-o aplicaÈ›ie Dash cu:
- Dropdown pentru a selecta luna
- Slider pentru a filtra categoriile de cheltuieli
- Chart care se updateazÄƒ automat (callbacks!)

**Starter code:**
```python
# pip install dash
from dash import Dash, dcc, html, Input, Output
import plotly.express as px

app = Dash(__name__)

app.layout = html.Div([
    html.H1("ğŸ’¼ Dashboard Financiar Interactive"),
    dcc.Dropdown(
        id='month-dropdown',
        options=[{'label': m, 'value': m} for m in months],
        value='Iun'
    ),
    dcc.Graph(id='expense-chart')
])

@app.callback(
    Output('expense-chart', 'figure'),
    Input('month-dropdown', 'value')
)
def update_chart(selected_month):
    # TODO: CreeazÄƒ grafic bazat pe luna selectatÄƒ
    pass

if __name__ == '__main__':
    app.run(debug=True)
```

### ğŸ“Š Challenge 2: Animated Chart
CreeazÄƒ un scatter plot animat care aratÄƒ evoluÈ›ia Ã®n timp:
```python
# Exemplu: EvoluÈ›ia salariilor Ã®n timp
fig = px.scatter(
    df_time_series,
    x='Age',
    y='Salary',
    animation_frame='Year',  # AnimaÈ›ie pe ani
    color='Department',
    size='Experience',
    title='ğŸ“ˆ EvoluÈ›ia Salariilor 2020-2024'
)
fig.show()
```

### ğŸ—ºï¸ Challenge 3: Geographic Map
AfiÈ™eazÄƒ date pe hartÄƒ (ex: salarii medii pe judeÈ›e):
```python
fig = px.choropleth(
    df_counties,
    locations='County',
    color='Average_Salary',
    title='ğŸ—ºï¸ Salarii Medii pe JudeÈ›e'
)
```

---

## âœ… Checklist Final

Ãnainte de a preda task-ul, verificÄƒ:

- [ ] Am completat toate cele 5 exerciÈ›ii obligatorii
- [ ] Am adÄƒugat titluri È™i etichete la toate graficele
- [ ] Graficele mele sunt **interactive** (hover funcÈ›ioneazÄƒ)
- [ ] Am salvat cel puÈ›in un grafic ca HTML
- [ ] Am rÄƒspuns la toate Ã®ntrebÄƒrile de reflecÈ›ie
- [ ] Codul meu ruleazÄƒ fÄƒrÄƒ erori
- [ ] Am testat bonusurile (dacÄƒ am apucat)
- [ ] Am experimentat cu culori È™i layout-uri diferite

---

## ğŸ“¦ Ce sÄƒ Predai

OrganizeazÄƒ-È›i munca astfel:

```
task_plotly_[NumeTau]/
â”œâ”€â”€ exercitiul_1_scatter.py
â”œâ”€â”€ exercitiul_2_dashboard.py
â”œâ”€â”€ exercitiul_3_boxplot.py
â”œâ”€â”€ exercitiul_4_heatmap.py
â”œâ”€â”€ exercitiul_5_export.py
â”œâ”€â”€ my_interactive_chart.html (exportat)
â””â”€â”€ raspunsuri_reflectii.md (Ã®ntrebÄƒrile de reflecÈ›ie)
```

---

**ğŸ‰ Mult succes cu task-ul! ğŸ‰**

> **Reminder:** Plotly e despre **interactivitate**! AsigurÄƒ-te cÄƒ foloseÈ™ti hover, zoom, È™i click pe legendÄƒ pentru a explora datele. Nu ezita sÄƒ experimentezi cu parametri diferiÈ›i - asta e frumuseÈ›ea visualizÄƒrii interactive!
